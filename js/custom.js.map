{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/45KBDK_KGL-KGL/js/footer/prmExploreFooterAfter.component.js","primo-explore/custom/45KBDK_KGL-KGL/js/language/prmUserAreaExpandableAfter.component.js","primo-explore/custom/45KBDK_KGL-KGL/js/main.js","primo-explore/custom/45KBDK_KGL-KGL/js/navigation-header/navigation-header.js","primo-explore/custom/45KBDK_KGL-KGL/node_modules/primo-ve-announcement/dist/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","PrmExploreFooterAfterConfig","name","config","bindings","parentCtrl","templateUrl","query","window","location","search","substring","start","indexOf","end","vid","replace","PrmUserAreaExpandableAfterController","$location","$window","_classCallCheck","this","lang","document","getElementsByTagName","href","absUrl","$inject","PrmUserAreaExpandableAfterConfig","reloadOnSearch","controller","_prmExploreFooterAfter","_navigationHeader","_prmUserAreaExpandableAfter","angular","component","PrmTopBarBeforeConfig","PrmTopBarBeforeController","$element","parentElement","parent","element","children","append","s","m","Object","defineProperty","value","enumerable","configurable","writable","key","TypeError","$translate","$mdToast","$rootScope","$cookies","_dismissed","$on","AnnouncementService","_toastPromise","Promise","then","get","includes","hide","show","hideDelay","position","close","put","controllerAs","template","catch","_dismiss","prototype","2","announcementService","display","console","log","$scope","PrmTopbarAfterConfig","primoExploreCtrl","3","service","./announcement/announcement.service","./announcement/prmTopbarAfter.component"],"mappings":"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","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export let PrmExploreFooterAfterConfig = {\n    name: 'prmExploreFooterAfter',\n    config: {\n        bindings: {parentCtrl: '<'},\n        templateUrl: function(){\n            let query = window.location.search.substring(1);\n            let start = query.indexOf('vid')+4;\n            query = query.substring(start);\n            let end = query.indexOf('&');\n            let vid = query.substring(0, end);\n                vid = vid.replace(\":\", \"-\");\n            let templateUrl = 'custom/' + vid + '/html/footer/footer.html';\n            return templateUrl;\n        },\n\n    }\n};","class PrmUserAreaExpandableAfterController {\n\n    constructor($location, $window) {\n        this.$location = $location;\n        this.$window = $window;\n    }\n\n    changeLanguage() {\n        let lang = this.$location.search().lang;\n        if (lang === 'da'){\n            this.$location.search('lang', 'en');\n            document.getElementsByTagName(\"BODY\")[0].lang = 'en';\n\n        } else {\n            this.$location.search('lang', 'da');\n        }\n        this.$window.location.href = this.$location.absUrl();\n        document.getElementsByTagName(\"BODY\")[0].lang = 'da';\n\n    }\n}\n\nPrmUserAreaExpandableAfterController.$inject = ['$location', '$window'];\n\nexport let PrmUserAreaExpandableAfterConfig=  {\n    name: 'prmUserAreaExpandableAfter',\n    config: {\n        bindings: {\n            parentCtrl: '<'\n        }, reloadOnSearch: false,\n        controller: PrmUserAreaExpandableAfterController,\n        templateUrl: function(){\n            let query = window.location.search.substring(1);\n            let start = query.indexOf('vid')+4;\n            query = query.substring(start);\n            let end = query.indexOf('&');\n            let vid = query.substring(0, end);\n                vid = vid.replace(\":\", \"-\");\n            let templateUrl = 'custom/' + vid + '/html/language/language.html';\n            return templateUrl;\n        },\n    }\n};","// Footer\nimport {PrmExploreFooterAfterConfig} from './footer/prmExploreFooterAfter.component';\n\n// Navigation header\nimport {PrmTopBarBeforeConfig} from './navigation-header/navigation-header';\n\n// Language switcher\nimport {PrmUserAreaExpandableAfterConfig} from './language/prmUserAreaExpandableAfter.component';\n\nangular.module('viewCustom', ['angularLoad']);\n\nangular.module('viewCustom')\n\n// Footer\n.component(PrmExploreFooterAfterConfig.name, PrmExploreFooterAfterConfig.config)\n\n// Navigation header\n.component(PrmTopBarBeforeConfig.name, PrmTopBarBeforeConfig.config)\n\n// Language switcher\n.component(PrmUserAreaExpandableAfterConfig.name, PrmUserAreaExpandableAfterConfig.config);\n\n// Get more info at https://github.com/Det-Kongelige-Bibliotek/KB-Primo-VE-Announcement\nrequire('primo-ve-announcement/dist/index.js');","class PrmTopBarBeforeController {\n    constructor($element) {\n        this.$element = $element;\n    };\n\n    $postLink() {\n\n        let parentElement = this.$element.parent().parent().parent();\n        // Move the header.\n        let container = angular.element(parentElement.children()[0]);\n        container.append(this.$element.children()[0]);\n    };\n}\n\nPrmTopBarBeforeController.$inject = ['$element'];\n\nexport let PrmTopBarBeforeConfig = {\n    name: 'prmTopBarBefore',\n    config: {\n        bindings: {parentCtrl: '<'},\n        controller: PrmTopBarBeforeController,\n        templateUrl: function(){\n            let query = window.location.search.substring(1);\n            let start = query.indexOf('vid')+4;\n            query = query.substring(start);\n            let end = query.indexOf('&');\n            let vid = query.substring(0, end);\n            vid = vid.replace(\":\", \"-\");\n            return 'custom/' + vid + '/html/navigation-header/navigation-header.html';\n        },\n    },\n}","!function r(s,a,c){function u(n,e){if(!a[n]){if(!s[n]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(n,!0);if(m)return m(n,!0);var o=new Error(\"Cannot find module '\"+n+\"'\");throw o.code=\"MODULE_NOT_FOUND\",o}var i=a[n]={exports:{}};s[n][0].call(i.exports,function(e){return u(s[n][1][e]||e)},i,i.exports,r,s,a,c)}return a[n].exports}for(var m=\"function\"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e};function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,n,t,o){var i=this;!function(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,r),this.$translate=e,this.$mdToast=n,this.$rootScope=t,this.$cookies=o,this._dismissed=!1,this.$rootScope.$on(\"$translateChangeSuccess\",function(){i._dismissed=!1})}(t.AnnouncementService=(o(r,[{key:\"_dismiss\",value:function(){this._dismissed=!0,this._toastPromise=null}},{key:\"display\",value:function(o){var i=this;return new Promise(function(n,t){!0!==i._dismissed?i.$translate(\"nui.message.announcement\").then(function(e){if(i.$cookies.get(\"announcement\")!==e){if(!e||[\"announcement\",\"&nbsp;\",\"\"].includes(e))return i._toastPromise&&!i._dismissed&&i.$mdToast.hide(),void t(\"No announcement found.\");i._toastPromise=i._toastPromise||i.$mdToast.show({hideDelay:!1,position:\"top\",controller:function(){return{close:function(){i.$mdToast.hide(),i.$translate(\"nui.message.announcement\").then(function(e){return i.$cookies.put(\"announcement\",e)})}}},controllerAs:\"$ctrl\",template:'<md-toast class=\"page-notification\" style=\"top: 0px; position: sticky !important;\">\\n    <div class=\"md-toast-content\" style=\"box-shadow:none; width: 100%;\">\\n        <span class=\\'md-toast-text\\' flex translate=\\'nui.message.announcement\\'>\\n  </span>\\n    </div>\\n    <a class=\"close\" ng-click=\\'$ctrl.close()\\' aria-label=\"{{\\'nui.message.dismiss\\' | translate}}\" style=\"position: absolute; right: 1.5rem; top: 1.5rem;\">\\n<prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"close\">\\x3c!----\\x3e<md-icon ng-if=\"!$ctrl.isCustom\" md-svg-icon=\"primo-ui:close\" alt=\"\" class=\"md-primoExplore-theme\" aria-hidden=\"true\"><svg id=\"close\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"240\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\\n        <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"></path>\\n    </svg></md-icon>\\x3c!----\\x3e\\x3c!----\\x3e<prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after></prm-icon></a>\\n</md-toast>'}),i._toastPromise.then(o).catch(o).then(function(){return i._dismiss()}),n()}else t(\"The announcement has been dismissed before.\")}):t(\"The announcement has been dismissed.\")})}}]),r)).$inject=[\"$translate\",\"$mdToast\",\"$rootScope\",\"$cookies\"]},{}],2:[function(e,n,t){\"use strict\";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=(function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}(r,[{key:\"$onInit\",value:function(){this.announcementService.display().catch(function(e){e&&console.log(e)})}}]),r);function r(e,n,t,o){!function(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,r),this.announcementService=e,this.$scope=n,this.$element=t,this.$translate=o}i.$inject=[\"announcementService\",\"$scope\",\"$element\",\"$translate\"];t.PrmTopbarAfterConfig={name:\"prmTopbarAfter\",config:{controller:i,require:{primoExploreCtrl:\"^primoExplore\"}}}},{}],3:[function(e,n,t){\"use strict\";var o=e(\"./announcement/announcement.service\"),i=e(\"./announcement/prmTopbarAfter.component\");angular.module(\"viewCustom\").service(\"announcementService\",o.AnnouncementService).component(i.PrmTopbarAfterConfig.name,i.PrmTopbarAfterConfig.config)},{\"./announcement/announcement.service\":1,\"./announcement/prmTopbarAfter.component\":2}]},{},[3]);"],"sourceRoot":"/source/"}