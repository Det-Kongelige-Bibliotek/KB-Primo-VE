{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/chatbox/chatBox.component.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/chatbox/prmExploreMainAfter.component.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/footer/prmExploreFooterAfter.component.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/main.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/searchtips/prmSearchBarAfter.component.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/searchtips/searchTips.component.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/shared/angularLoadMonkeyPatched.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/shared/locale.service.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/shared/navigation.service.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/shared/scriptLoader.service.js","primo-explore/custom/45KBDK_KGL:KGL_VU1/js/shared/viewName.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_viewName","ChatBoxController","$scope","scriptLoaderService","localeService","_classCallCheck","this","constructChatBoxScriptUrl","loadChatBoxScript","then","console","log","catch","scriptId","en","da","current","scriptUrl","load","unload","$inject","ChatBoxConfig","name","config","controller","templateUrl","viewName","PrmExploreMainAfterConfig","PrmExploreFooterAfterController","LocaleService","PrmExploreFooterAfterConfig","bindings","parentCtrl","_navigation","_scriptLoader","_locale","_prmExploreFooterAfter","_prmSearchBarAfter","_searchTips","_prmExploreMainAfter","_chatBox","angular","run","$rootScope","service","NavigationService","ScriptLoaderService","component","PrmSearchBarAfterConfig","SearchTipsConfig","PrmSearchBarAfterController","$element","parentElement","parent","element","children","append","searchBarElement","querySelector","focus","SearchTipsController","$mdDialog","event","_this","show","hide","cancel","controllerAs","document","body","targetEvent","clickOutsideToClose","fullscreen","$document","$q","$timeout","promises","loader","createElement","url","deferred","defer","onload","onreadystatechange","readyState","resolve","onerror","reject","promise","loadScript","src","script","appendChild","loadCSS","href","style","rel","type","head","unloadCSS","docHead","targetCss","remove","$location","search","lang","$window","navigateToHomePage","open","params","vid","split","absUrl","baseUrl","location","angularLoadMonkeyPatched","fileName","fileType","targetElement","targetAttr","allSuspects","getElementsByTagName","getAttribute","indexOf","parentNode","removeChild"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,iVCAAK,EAAAX,EAAA,0BAIMY,aACJ,SAAAA,EAAYC,EAAQC,EAAqBC,gGAAeC,CAAAC,KAAAL,GACtDK,KAAKJ,OAASA,EACdI,KAAKH,oBAAsBA,EAC3BG,KAAKF,cAAgBA,8CAKrB,OADAE,KAAKC,4BACED,KAAKE,oBACTC,KAAK,WACJC,QAAQC,IAAI,sBAEbC,MAAM,WACL,MAAM,IAAIpB,MAAM,uFAUpBc,KAAKO,SAJW,CACdC,GAAM,mCACNC,GAAM,oCAEkBT,KAAKF,cAAcY,WAC7CV,KAAKW,UANe,uDAMaX,KAAKO,qDAItC,OAAOP,KAAKH,oBAAoBe,KAAKZ,KAAKW,gDAI1CX,KAAKH,oBAAoBgB,OAAOb,KAAKW,UAAW,MAChDP,QAAQC,IAAI,gCAKhBV,EAAkBmB,QAAU,CAAC,SAAU,sBAAuB,iBAEnDzB,EAAA0B,cAAgB,CACzBC,KAAM,aACNC,OAAQ,CACNC,WAAYvB,EACZwB,YAAa,UAAYzB,EAAA0B,SAAW,yLCjDxC,IAAA1B,EAAAX,EAAA,sBAEWM,EAAAgC,0BAA4B,CACrCL,KAAM,sBACNC,OAAQ,CACNE,YAAa,UAAYzB,EAAA0B,SAAW,gcCLxC1B,EAAAX,EAAA,sBACAA,EAAA,gCAEMuC,aACF,SAAAA,EAAYxB,gGAAeC,CAAAC,KAAAsB,GACvBtB,KAAKF,cAAgBA,6CAIrB,OAAOE,KAAKuB,cAAcb,mBAIlCY,EAAgCR,QAAU,CAAC,iBAEhCzB,EAAAmC,4BAA8B,CACrCR,KAAM,wBACNC,OAAQ,CACJQ,SAAU,CAACC,WAAY,KACvBR,WAAYI,EACZH,YAAa,UAAYzB,EAAA0B,SAAW,sHCnB5C,IAAA1B,EAAAX,EAAA,qBACA4C,EAAA5C,EAAA,+BACA6C,EAAA7C,EAAA,iCACA8C,EAAA9C,EAAA,2BAMA+C,EAAA/C,EAAA,4CAmBAgD,EAAAhD,EAAA,4CACAiD,EAAAjD,EAAA,qCAMAkD,EAAAlD,EAAA,2CACAmD,EAAAnD,EAAA,+BAaAoD,QAAQ1C,OAAO,aAAc,CAC3B,2BACA,eAEG2C,IAAI,CAAC,aAAc,SAACC,GACnBA,EAAWjB,SAAW1B,EAAA0B,YAc5Be,QAAQ1C,OAAO,cAGV6C,QAAQ,oBAAqBX,EAAAY,mBAC7BD,QAAQ,sBAAuBV,EAAAY,qBAC/BF,QAAQ,gBAAiBT,EAAAN,eAMzBkB,UAAUX,EAAAN,4BAA4BR,KAAMc,EAAAN,4BAA4BP,QAmBxEwB,UAAUV,EAAAW,wBAAwB1B,KAAMe,EAAAW,wBAAwBzB,QAChEwB,UAAUT,EAAAW,iBAAiB3B,KAAMgB,EAAAW,iBAAiB1B,QAMhDwB,UAAUR,EAAAZ,0BAA0BL,KAAMiB,EAAAZ,0BAA0BJ,QACpEwB,UAAUP,EAAAnB,cAAcC,KAAMkB,EAAAnB,cAAcE,QAcnDlC,EAAQ,4vBCzHRW,EAAAX,EAAA,0BAEM6D,aACJ,SAAAA,EAAYC,gGAAU9C,CAAAC,KAAA4C,GACpB5C,KAAK6C,SAAWA,gDAKhB,IAAIC,EAAgB9C,KAAK6C,SAASE,SAGlBZ,QAAQa,QAAQF,EAAcG,WAAW,GAAGA,SAAS,IAC3DC,OAAOlD,KAAK6C,SAASI,WAAW,IAE1C,IAAIE,EAAmBL,EAAc,GAAGM,cAAc,cAOlDD,GACFA,EAAiBE,iBAMvBT,EAA4B9B,QAAU,CAAC,YAE5BzB,EAAAqD,wBAA0B,CACnC1B,KAAM,oBACNC,OAAQ,CACNE,YAAa,UAAYzB,EAAA0B,SAAW,oDACpCF,WAAY0B,oYCnChBlD,EAAAX,EAAA,0BAEMuE,aACJ,SAAAA,EAAYC,EAAWzD,gGAAeC,CAAAC,KAAAsD,GACpCtD,KAAKuD,UAAYA,EACjBvD,KAAKF,cAAgBA,mDAOR0D,GAAO,IAAAC,EAAAzD,KACpBA,KAAKuD,UAAUG,KAAK,CAClBxC,WAAY,WACV,MAAO,CACLyC,KAAM,WAAQF,EAAKF,UAAUI,QAC7BC,OAAQ,WAAQH,EAAKF,UAAUK,YAGnCC,aAAc,QACd1C,YAAa,UAAYzB,EAAA0B,SAAW,+BAAiCpB,KAAKF,cAAcY,UAAY,QACpGqC,OAAQZ,QAAQa,QAAQc,SAASC,MACjCC,YAAaR,EACbS,qBAAqB,EACrBC,YAAY,aAMlBZ,EAAqBxC,QAAU,CAAC,YAAa,iBAElCzB,EAAAsD,iBAAmB,CAC5B3B,KAAM,gBACNC,OAAQ,CACNC,WAAYoC,EACZnC,YAAa,UAAYzB,EAAA0B,SAAW,2GC3BtCe,QAAQ1C,OAAO,2BAA4B,IACxC6C,QAAQ,2BAA4B,CAAC,YAAa,KAAM,WAAY,SAAU6B,EAAWC,EAAIC,GAC5F,IAAIP,EAAWK,EAAU,GACrBG,EAAW,GAEf,SAASC,EAAOC,GACd,OAAO,SAASC,GAIZ,IAAIC,EAAWN,EAAGO,QACd3B,EAAUwB,EAAcC,GAoB9B,OAlBEzB,EAAQ4B,OAAS5B,EAAQ6B,mBAAqB,SAAUrG,GAClDwE,EAAQ8B,YAAqC,aAAvB9B,EAAQ8B,YAAoD,WAAvB9B,EAAQ8B,YAIvET,EAAS,WACPK,EAASK,QAAQvG,MAGrBwE,EAAQgC,QAAU,SAAUxG,GAC1B6F,EAAS,WACPK,EAASO,OAAOzG,MAIpB8F,EAASG,GAAOC,EAASQ,QAGpBZ,EAASG,IASpBzE,KAAKmF,WAAaZ,EAAO,SAAUa,GACjC,IAAIC,EAASvB,EAASU,cAAc,UAKpC,OAHAa,EAAOD,IAAMA,EAEbtB,EAASC,KAAKuB,YAAYD,GACnBA,IAQTrF,KAAKuF,QAAUhB,EAAO,SAAUiB,GAC9B,IAAIC,EAAQ3B,EAASU,cAAc,QAOnC,OALAiB,EAAMC,IAAM,aACZD,EAAME,KAAO,WACbF,EAAMD,KAAOA,EAEb1B,EAAS8B,KAAKN,YAAYG,GACnBA,IAQTzF,KAAK6F,UAAY,SAAUL,UAClBlB,EAASkB,GAChB,IAAIM,EAAUhC,EAAS8B,KACvB,GAAGE,EAAS,CACV,IAAIC,EAAYD,EAAQ1C,cAAc,UAAYoC,EAAO,MACzD,GAAGO,EAED,OADAA,EAAUC,UACH,EAGX,OAAO,wVC1FFzE,yBACX,SAAAA,EAAY0E,gGAAWlG,CAAAC,KAAAuB,GACrBvB,KAAKiG,UAAYA,8CAKjB,OADA7F,QAAQC,IAAIL,KAAKiG,UAAUC,SAASC,MAC7BnG,KAAKiG,UAAUC,SAASC,eAIrBrF,QAAU,CAAC,uXCXzBpB,EAAAX,EAAA,iBAKawD,6BAEX,SAAAA,EAAY0D,EAAWG,gGAASrG,CAAAC,KAAAuC,GAC9BvC,KAAKiG,UAAYA,EACjBjG,KAAKoG,QAAUA,+CAQN3B,QACU,IAARA,GAA+B,KAARA,EAChCzE,KAAKqG,qBAELrG,KAAKoG,QAAQE,KAAK7B,EAAK,uDAQzB,IAAI8B,EAASvG,KAAKiG,UAAUC,SACxBM,EAAMD,EAAOC,KAAO9G,EAAA0B,SACpB+E,EAAOI,EAAOJ,MAAQ,QACtBM,EAAQzG,KAAKiG,UAAUS,SAASD,MAAM,mBAE1C,GAAqB,IAAjBA,EAAMlH,OAER,OADAa,QAAQC,IAAI,+BAAiCoG,EAAM,KAC5C,EAGT,IAAIE,EAAUF,EAAM,GAEpB,OADAzG,KAAKoG,QAAQQ,SAASpB,KAAOmB,EAAU,6BAA+BH,EAAM,SAAWL,GAChF,YAKOrF,QAAU,CAAC,YAAa,6WC3C7B0B,+BACX,SAAAA,EAAYqE,gGAA0B9G,CAAAC,KAAAwC,GACpCxC,KAAK6G,yBAA2BA,yCAO7BpC,GACH,OAAOzE,KAAK6G,yBAAyB1B,WAAWV,kCAS3CqC,EAAUC,GAOf,IALA,IAAIC,EAA6B,MAAZD,EAAoB,SAAwB,OAAZA,EAAqB,OAAS,OAE/EE,EAA0B,MAAZF,EAAoB,MAAqB,OAAZA,EAAqB,OAAS,OACzEG,EAAcpD,SAASqD,qBAAqBH,GAEvCpI,EAAIsI,EAAY3H,OAAa,GAALX,EAAQA,IACnCsI,EAAYtI,IAAiD,MAA3CsI,EAAYtI,GAAGwI,aAAaH,KAAqF,GAA9DC,EAAYtI,GAAGwI,aAAaH,GAAYI,QAAQP,IAEvHI,EAAYtI,GAAG0I,WAAWC,YAAYL,EAAYtI,cAMtCkC,QAAU,CAAC,mHCrCpBzB,EAAA+B,SAAW","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import {\n  viewName\n} from '../shared/viewName';\n\nclass ChatBoxController {\n  constructor($scope, scriptLoaderService, localeService) {\n    this.$scope = $scope;\n    this.scriptLoaderService = scriptLoaderService;\n    this.localeService = localeService;\n  }\n\n  $onInit() {\n    this.constructChatBoxScriptUrl();\n    return this.loadChatBoxScript()\n      .then(() => {\n        console.log('Chat box loaded!');\n      })\n      .catch(() => {\n        throw new Error('Chat box could not be loaded!');\n      });\n  }\n\n  constructChatBoxScriptUrl() {\n    let scriptUrlBase = 'https://region-eu.libanswers.com/load_chat.php?hash=';\n    let scriptIds = {\n      'en': '2065a8d15fb45f3c911c2b223cc81286',\n      'da': '7df867c6243394f970f8550332c4b607'\n    };\n    this.scriptId = scriptIds[this.localeService.current()];\n    this.scriptUrl = scriptUrlBase + this.scriptId;\n  }\n\n  loadChatBoxScript() {\n    return this.scriptLoaderService.load(this.scriptUrl);\n  }\n\n  $onDestroy() {\n    this.scriptLoaderService.unload(this.scriptUrl, 'js');\n    console.log('Chat box destroyed!');\n  }\n\n}\n\nChatBoxController.$inject = ['$scope', 'scriptLoaderService', 'localeService'];\n\nexport let ChatBoxConfig = {\n  name: 'rexChatBox',\n  config: {\n    controller: ChatBoxController,\n    templateUrl: 'custom/' + viewName + '/html/chatbox/chatBox.component.html',\n  }\n}","import { viewName } from '../shared/viewName';\n\nexport let PrmExploreMainAfterConfig = {\n  name: 'prmExploreMainAfter',\n  config: {\n    templateUrl: 'custom/' + viewName + '/html/chatbox/prmExploreMainAfter.component.html',\n  }\n};","import {viewName} from '../shared/viewName';\nimport {LocaleService} from \"../shared/locale.service\";\n\nclass PrmExploreFooterAfterController {\n    constructor(localeService) {\n        this.localeService = localeService;\n    }\n\n     locale(){\n        return this.LocaleService.current();\n     }\n}\n\nPrmExploreFooterAfterController.$inject = ['localeService'];\n\nexport let PrmExploreFooterAfterConfig = {\n    name: 'prmExploreFooterAfter',\n    config: {\n        bindings: {parentCtrl: '<'},\n        controller: PrmExploreFooterAfterController,\n        templateUrl: 'custom/' + viewName + '/html/footer/footer' + '.html',\n    }\n}\n","// Shared\nimport { viewName } from './shared/viewName';\nimport { NavigationService } from './shared/navigation.service';\nimport { ScriptLoaderService } from './shared/scriptLoader.service';\nimport { LocaleService } from './shared/locale.service';\n\n// Googleanalytics\n// import { GoogleAnalyticsService } from './googleanalytics/googleAnalytics.service';\n\n// Footer\nimport { PrmExploreFooterAfterConfig } from './footer/prmExploreFooterAfter.component';\n\n// Announcement\n// import { AnnouncementService } from './announcement/announcement.service';\n// import { PrmTopbarAfterConfig } from './announcement/prmTopbarAfter.component';\n\n// Pickupnumbers\n// import { PickUpNumbersService } from './pickupnumbers/pickUpNumbers.service';\n// import { PrmRequestsAfterConfig } from './pickupnumbers/prmRequestsAfter.component';\n// import { PrmRequestsOverviewAfterConfig } from './pickupnumbers/prmRequestsOverviewAfter.component';\n\n// Linkedperson\n// import { LinkedPersonsService } from './linkedperson/linkedPersons.service';\n// import { LinkedPersonsConfig } from './linkedperson/linkedPersons.component';\n\n// Openinghours\n// import { OpeningHoursConfig } from './openinghours/openingHours.component';\n\n// Searchtips\nimport { PrmSearchBarAfterConfig } from './searchtips/prmSearchBarAfter.component';\nimport { SearchTipsConfig } from './searchtips/searchTips.component';\n\n// Altmetrics\n// import { AltmetricsConfig } from './altmetrics/altmetrics.component';\n\n// Chatbox\nimport { PrmExploreMainAfterConfig } from './chatbox/prmExploreMainAfter.component';\nimport { ChatBoxConfig } from './chatbox/chatBox.component';\n\n// Fines\n// import { PrmFinesAfterConfig } from './fines/prmFinesAfter.component';\n\n// Personalinfo\n// import { PrmPersonalInfoAfterConfig } from './personalinfo/prmPersonalInfoAfter.component';\n\n// Add / remove elements\n// import { PrmFullViewAfterConfig } from './addremoveelements/prmFullViewAfter.component';\n// import { PrmRequestServicesAfterConfig } from './addremoveelements/prmRequestServicesAfter.component';\n\n\nangular.module('viewCustom', [\n  'angularLoadMonkeyPatched',\n  'ngMaterial'\n])\n    .run(['$rootScope', ($rootScope) => {\n      $rootScope.viewName = viewName;\n    }]);\n// Googleanalytics\n// .run(['googleAnalyticsService', (googleAnalyticsService) => {\n//   let trackingId =  'UA-77177865-1';\n//   googleAnalyticsService.initialize(trackingId)\n//   .then(() => googleAnalyticsService.trackPageViews())\n//   .catch((e) => {\n//     console.log('Google anayltics could not be initialized.');\n//     console.log(e);\n//   });\n// }]);\n\n\nangular.module('viewCustom')\n\n// Shared\n    .service('navigationService', NavigationService)\n    .service('scriptLoaderService', ScriptLoaderService)\n    .service('localeService', LocaleService)\n\n    // Googleanalytics\n    //   .service('googleAnalyticsService', GoogleAnalyticsService)\n\n    // Footer\n    .component(PrmExploreFooterAfterConfig.name, PrmExploreFooterAfterConfig.config)\n\n    // Announcement\n    //   .service('announcementService', AnnouncementService)\n    //   .component(PrmTopbarAfterConfig.name, PrmTopbarAfterConfig.config)\n\n    // Pickupnumbers\n    //   .service('pickUpNumbersService', PickUpNumbersService)\n    //   .component(PrmRequestsAfterConfig.name, PrmRequestsAfterConfig.config)\n    //   .component(PrmRequestsOverviewAfterConfig.name, PrmRequestsOverviewAfterConfig.config)\n\n    // Linkedperson\n    //   .service('linkedPersonsService', LinkedPersonsService)\n    //   .component(LinkedPersonsConfig.name, LinkedPersonsConfig.config)\n\n    // Openinghours\n    //   .component(OpeningHoursConfig.name, OpeningHoursConfig.config)\n\n    // Searchtips\n    .component(PrmSearchBarAfterConfig.name, PrmSearchBarAfterConfig.config)\n    .component(SearchTipsConfig.name, SearchTipsConfig.config)\n\n    // Altmetrics\n    // .component(AltmetricsConfig.name, AltmetricsConfig.config)\n\n    // Chatbox\n      .component(PrmExploreMainAfterConfig.name, PrmExploreMainAfterConfig.config)\n      .component(ChatBoxConfig.name, ChatBoxConfig.config)\n\n    // Fines\n    //   .component(PrmFinesAfterConfig.name, PrmFinesAfterConfig.config)\n\n    // Personalinfo\n    // .component(PrmPersonalInfoAfterConfig.name, PrmPersonalInfoAfterConfig.config)\n\n    // Add / remove elements\n    // .component(PrmFullViewAfterConfig.name, PrmFullViewAfterConfig.config)\n    // .component(PrmRequestServicesAfterConfig.name, PrmRequestServicesAfterConfig.config)\n\n\n// Pre-ES2015 code.\nrequire('./shared/angularLoadMonkeyPatched');","import { viewName } from '../shared/viewName';\n\nclass PrmSearchBarAfterController {\n  constructor($element) {\n    this.$element = $element;\n  };\n\n  $postLink() {\n\n    let parentElement = this.$element.parent();\n\n    // Move the search tips.\n    let container = angular.element(parentElement.children()[0].children[0]);\n    container.append(this.$element.children()[0]);\n\n    let searchBarElement = parentElement[0].querySelector('#searchBar');\n    \n    // Focus on the search bar, if it exists.\n    // Note that, when the language is changed, \n    // the search bar is not available yet here.\n    // We can watch for the element and then focus on it,\n    // but it does not seem to worth it.\n    if (searchBarElement) {\n      searchBarElement.focus();\n    }\n\n  };\n}\n\nPrmSearchBarAfterController.$inject = ['$element'];\n\nexport let PrmSearchBarAfterConfig = {\n  name: 'prmSearchBarAfter',\n  config: {\n    templateUrl: 'custom/' + viewName + '/html/searchtips/prmSearchBarAfter.component.html',\n    controller: PrmSearchBarAfterController,\n  }\n}","import { viewName } from '../shared/viewName';\n\nclass SearchTipsController {\n  constructor($mdDialog, localeService) {\n    this.$mdDialog = $mdDialog;\n    this.localeService = localeService;\n  };\n\n  /**\n   * Pops up a dialog message containing \n   * the search tips in the selected language.\n   */\n  showSearchTips(event) {\n    this.$mdDialog.show({\n      controller: () => {\n        return {\n          hide: () => { this.$mdDialog.hide() },\n          cancel: () => { this.$mdDialog.cancel() },\n        }\n      },\n      controllerAs: '$ctrl',\n      templateUrl: 'custom/' + viewName + '/html/searchtips/searchTips_' + this.localeService.current() + '.html',\n      parent: angular.element(document.body),\n      targetEvent: event,\n      clickOutsideToClose: true,\n      fullscreen: false // Only for -xs, -sm breakpoints.\n    });\n  };\n\n}\n\nSearchTipsController.$inject = ['$mdDialog', 'localeService'];\n\nexport let SearchTipsConfig = {\n  name: 'rexSearchTips',\n  config: {\n    controller: SearchTipsController,\n    templateUrl: 'custom/' + viewName + '/html/searchtips/searchTips.component.html'\n  }\n}","/** \n* This is a monkey patched version of the AngularLoad service, that can reload scripts.\n*/\n\n\n/* angular-load.js / v0.4.1 / (c) 2014, 2015, 2016 Uri Shaked / MIT Licence */\n\n(function () {\n  'use strict';\n\n  angular.module('angularLoadMonkeyPatched', [])\n    .service('angularLoadMonkeyPatched', ['$document', '$q', '$timeout', function ($document, $q, $timeout) {\n      var document = $document[0];\n      var promises = {};\n\n      function loader(createElement) {\n        return function(url) {\n        // This check prevents us from reloading scripts.\n        // if (typeof promises[url] === 'undefined') {\n        if (true) {\n            var deferred = $q.defer();\n            var element = createElement(url);\n\n            element.onload = element.onreadystatechange = function (e) {\n              if (element.readyState && element.readyState !== 'complete' && element.readyState !== 'loaded') {\n                return;\n              }\n\n              $timeout(function () {\n                deferred.resolve(e);\n              });\n            };\n            element.onerror = function (e) {\n              $timeout(function () {\n                deferred.reject(e);\n              });\n            };\n\n            promises[url] = deferred.promise;\n          }\n\n          return promises[url];\n        };\n      }\n\n      /**\n       * Dynamically loads the given script\n       * @param src The url of the script to load dynamically\n       * @returns {*} Promise that will be resolved once the script has been loaded.\n       */\n      this.loadScript = loader(function (src) {\n        var script = document.createElement('script');\n\n        script.src = src;\n\n        document.body.appendChild(script);\n        return script;\n      });\n\n      /**\n       * Dynamically loads the given CSS file\n       * @param href The url of the CSS to load dynamically\n       * @returns {*} Promise that will be resolved once the CSS file has been loaded.\n       */\n      this.loadCSS = loader(function (href) {\n        var style = document.createElement('link');\n\n        style.rel = 'stylesheet';\n        style.type = 'text/css';\n        style.href = href;\n\n        document.head.appendChild(style);\n        return style;\n      });\n\n      /**\n       * Dynamically unloads the given CSS file\n       * @param href The url of the CSS to unload dynamically\n       * @returns boolean that will be true once the CSS file has been unloaded successfully or otherwise false.\n       */\n      this.unloadCSS = function (href) {\n        delete promises[href];\n        var docHead = document.head;\n        if(docHead) {\n          var targetCss = docHead.querySelector('[href=\"' + href + '\"]');\n          if(targetCss) {\n            targetCss.remove();\n            return true;\n          }\n        }\n        return false;\n      };\n\n    }]);\n})();","export class LocaleService {\n  constructor($location) {\n    this.$location = $location;\n  }\n\n  current() {\n    console.log(this.$location.search().lang);\n    return this.$location.search().lang;\n  }\n}\n\nLocaleService.$inject = ['$location'];","import { viewName } from './viewName';\n\n/**\n * A service handling navigation logic. \n */\nexport class NavigationService {\n  \n  constructor($location, $window) {\n    this.$location = $location;\n    this.$window = $window;\n  }\n\n  /**\n   * Opens the given url in a new tab, \n   * or navigates to the home page if the url is blank.\n   * @param {string} url- The URL to be navigated to.\n   */\n  navigateTo(url) {\n    if (typeof url === 'undefined' || url === \"\")\n      this.navigateToHomePage();\n    else\n      this.$window.open(url, '_blank');\n  };\n\n  /**\n   * Navigates to the home page with a reload.\n   * @return {boolean} Booelan value indicating if the navigation was successful.\n   */\n  navigateToHomePage() {\n    let params = this.$location.search();\n    let vid = params.vid || viewName;\n    let lang = params.lang || \"da_DK\";\n    let split = this.$location.absUrl().split('/primo-explore/');\n\n    if (split.length === 1) {\n      console.log('Could not process the URL : ' + split[0]);\n      return false;\n    }\n\n    let baseUrl = split[0];\n    this.$window.location.href = baseUrl + '/primo-explore/search?vid=' + vid + '&lang=' + lang;\n    return true;\n  };\n\n}\n\nNavigationService.$inject = ['$location', '$window'];","/**\n * A service to load and unload JS scripts.\n */\nexport class ScriptLoaderService {\n  constructor(angularLoadMonkeyPatched) {\n    this.angularLoadMonkeyPatched = angularLoadMonkeyPatched;\n  }\n\n  /**\n   * Loads the JS script with given URL.\n   * @param {string} url - The URL of the script to be loaded.\n   */\n  load(url) { \n    return this.angularLoadMonkeyPatched.loadScript(url);\n  }\n\n  /**\n   * Removes the JS or CSS file with the given file name from the DOM. \n   * See: http://stackoverflow.com/questions/9425910/load-and-unload-javascript-at-runtime/9425964#9425964\n   * @param {string} fileName- The name of the file to be removed.\n   * @param {string} fileType- The type of the file to be removed.\n   */\n  unload(fileName, fileType) {\n    // Determine element type to create nodelist from\n    var targetElement = (fileType == \"js\") ? \"script\" : (fileType == \"css\") ? \"link\" : \"none\"\n      // Determine corresponding attribute to test for\n    var targetAttr = (fileType == \"js\") ? \"src\" : (fileType == \"css\") ? \"href\" : \"none\"\n    var allSuspects = document.getElementsByTagName(targetElement)\n      // Search backwards within nodelist for matching elements to remove\n    for (var i = allSuspects.length; i >= 0; i--) {\n      if (allSuspects[i] && allSuspects[i].getAttribute(targetAttr) != null && allSuspects[i].getAttribute(targetAttr).indexOf(fileName) != -1)\n      // Remove element by calling parentNode.removeChild()\n        allSuspects[i].parentNode.removeChild(allSuspects[i])\n    }\n  }\n\n}\n\nScriptLoaderService.$inject = ['angularLoadMonkeyPatched'];","// Define the view name here.\nexport let viewName = \"45KBDK_KGL:KGL_VU1\";"],"sourceRoot":"/source/"}