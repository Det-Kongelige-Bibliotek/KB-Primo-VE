{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/45KBDK_KGL-KGL/js/footer/prmExploreFooterAfter.component.js","primo-explore/custom/45KBDK_KGL-KGL/js/language/prmUserAreaExpandableAfter.component.js","primo-explore/custom/45KBDK_KGL-KGL/js/main.js","primo-explore/custom/45KBDK_KGL-KGL/js/navigation-header/navigation-header.js","primo-explore/custom/45KBDK_KGL-KGL/node_modules/primo-ve-announcement/dist/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","PrmExploreFooterAfterConfig","name","config","bindings","parentCtrl","templateUrl","$rootScope","viewName","PrmUserAreaExpandableAfterController","$location","$window","_classCallCheck","this","search","lang","document","getElementsByTagName","location","href","absUrl","$inject","PrmUserAreaExpandableAfterConfig","reloadOnSearch","controller","_prmExploreFooterAfter","_navigationHeader","_prmUserAreaExpandableAfter","angular","run","query","window","substring","vid","indexOf","replace","component","PrmTopBarBeforeConfig","PrmTopBarBeforeController","$element","parentElement","parent","element","children","append","s","m","Object","defineProperty","value","enumerable","configurable","writable","key","TypeError","$translate","$mdToast","$cookies","_dismissed","$on","AnnouncementService","_toastPromise","Promise","then","get","includes","hide","show","hideDelay","position","close","put","controllerAs","template","catch","_dismiss","prototype","2","announcementService","display","console","log","$scope","PrmTopbarAfterConfig","primoExploreCtrl","3","service","./announcement/announcement.service","./announcement/prmTopbarAfter.component"],"mappings":"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","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export let PrmExploreFooterAfterConfig = {\n    name: 'prmExploreFooterAfter',\n    config: {\n        bindings: {parentCtrl: '<'},\n        templateUrl: [\"$rootScope\", function($rootScope){\n            return 'custom/' + $rootScope.viewName + '/html/footer/footer.html';\n        }],\n\n    }\n};","class PrmUserAreaExpandableAfterController {\n\n    constructor($location, $window) {\n        this.$location = $location;\n        this.$window = $window;\n    }\n\n    changeLanguage() {\n        let lang = this.$location.search().lang;\n        if (lang === 'da'){\n            this.$location.search('lang', 'en');\n            document.getElementsByTagName(\"BODY\")[0].lang = 'en';\n\n        } else {\n            this.$location.search('lang', 'da');\n        }\n        this.$window.location.href = this.$location.absUrl();\n        document.getElementsByTagName(\"BODY\")[0].lang = 'da';\n\n    }\n}\n\nPrmUserAreaExpandableAfterController.$inject = ['$location', '$window'];\n\nexport let PrmUserAreaExpandableAfterConfig=  {\n    name: 'prmUserAreaExpandableAfter',\n    config: {\n        bindings: {\n            parentCtrl: '<'\n        }, reloadOnSearch: false,\n        controller: PrmUserAreaExpandableAfterController,\n        templateUrl: [\"$rootScope\", function($rootScope){\n            return 'custom/' + $rootScope.viewName + '/html/language/language.html';\n        }],\n    }\n};","// Footer\nimport {PrmExploreFooterAfterConfig} from './footer/prmExploreFooterAfter.component';\n\n// Navigation header\nimport {PrmTopBarBeforeConfig} from './navigation-header/navigation-header';\n\n// Language switcher\nimport {PrmUserAreaExpandableAfterConfig} from './language/prmUserAreaExpandableAfter.component';\n\nangular.module('viewCustom', ['angularLoad'])\n    .run(['$rootScope', ($rootScope) => {\n        let query = window.location.search.substring(1);\n        query = query.substring(query.indexOf('vid')+4);\n        let vid = query.substring(0, query.indexOf('&'));\n        $rootScope.viewName = vid.replace(\":\", \"-\");\n    }]);\n\nangular.module('viewCustom')\n\n// Footer\n.component(PrmExploreFooterAfterConfig.name, PrmExploreFooterAfterConfig.config)\n\n// Navigation header\n.component(PrmTopBarBeforeConfig.name,  PrmTopBarBeforeConfig.config)\n\n// Language switcher\n.component(PrmUserAreaExpandableAfterConfig.name, PrmUserAreaExpandableAfterConfig.config);\n\n// Get more info at https://github.com/Det-Kongelige-Bibliotek/KB-Primo-VE-Announcement\nrequire('primo-ve-announcement/dist/index.js');","class PrmTopBarBeforeController {\n    constructor($element) {\n        this.$element = $element;\n    };\n\n    $postLink() {\n\n        let parentElement = this.$element.parent().parent().parent();\n        // Move the header.\n        let container = angular.element(parentElement.children()[0]);\n        container.append(this.$element.children()[0]);\n    };\n}\n\nPrmTopBarBeforeController.$inject = ['$element'];\n\nexport let PrmTopBarBeforeConfig = {\n    name: 'prmTopBarBefore',\n    config: {\n        bindings: {\n            parentCtrl: '<'\n        },\n        controller: PrmTopBarBeforeController,\n        templateUrl: [\"$rootScope\", function($rootScope){\n            return 'custom/' + $rootScope.viewName + '/html/navigation-header/navigation-header.html';\n        }],\n    },\n}","!function r(s,a,c){function u(n,e){if(!a[n]){if(!s[n]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(n,!0);if(m)return m(n,!0);var o=new Error(\"Cannot find module '\"+n+\"'\");throw o.code=\"MODULE_NOT_FOUND\",o}var i=a[n]={exports:{}};s[n][0].call(i.exports,function(e){return u(s[n][1][e]||e)},i,i.exports,r,s,a,c)}return a[n].exports}for(var m=\"function\"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e};function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,n,t,o){var i=this;!function(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,r),this.$translate=e,this.$mdToast=n,this.$rootScope=t,this.$cookies=o,this._dismissed=!1,this.$rootScope.$on(\"$translateChangeSuccess\",function(){i._dismissed=!1})}(t.AnnouncementService=(o(r,[{key:\"_dismiss\",value:function(){this._dismissed=!0,this._toastPromise=null}},{key:\"display\",value:function(o){var i=this;return new Promise(function(n,t){!0!==i._dismissed?i.$translate(\"nui.message.announcement\").then(function(e){if(i.$cookies.get(\"announcement\")!==e){if(!e||[\"announcement\",\"&nbsp;\",\"\"].includes(e))return i._toastPromise&&!i._dismissed&&i.$mdToast.hide(),void t(\"No announcement found.\");i._toastPromise=i._toastPromise||i.$mdToast.show({hideDelay:!1,position:\"top\",controller:function(){return{close:function(){i.$mdToast.hide(),i.$translate(\"nui.message.announcement\").then(function(e){return i.$cookies.put(\"announcement\",e)})}}},controllerAs:\"$ctrl\",template:'<md-toast class=\"page-notification\" style=\"top: 0px; position: sticky !important;\">\\n    <div class=\"md-toast-content\" style=\"box-shadow:none; width: 100%;\">\\n        <span class=\\'md-toast-text\\' flex translate=\\'nui.message.announcement\\'>\\n  </span>\\n    </div>\\n    <a class=\"close\" ng-click=\\'$ctrl.close()\\' aria-label=\"{{\\'nui.message.dismiss\\' | translate}}\" style=\"position: absolute; right: 1.5rem; top: 1.5rem;\">\\n<prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"close\">\\x3c!----\\x3e<md-icon ng-if=\"!$ctrl.isCustom\" md-svg-icon=\"primo-ui:close\" alt=\"\" class=\"md-primoExplore-theme\" aria-hidden=\"true\"><svg id=\"close\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"240\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\\n        <path d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"></path>\\n    </svg></md-icon>\\x3c!----\\x3e\\x3c!----\\x3e<prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after></prm-icon></a>\\n</md-toast>'}),i._toastPromise.then(o).catch(o).then(function(){return i._dismiss()}),n()}else t(\"The announcement has been dismissed before.\")}):t(\"The announcement has been dismissed.\")})}}]),r)).$inject=[\"$translate\",\"$mdToast\",\"$rootScope\",\"$cookies\"]},{}],2:[function(e,n,t){\"use strict\";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=(function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}(r,[{key:\"$onInit\",value:function(){this.announcementService.display().catch(function(e){e&&console.log(e)})}}]),r);function r(e,n,t,o){!function(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,r),this.announcementService=e,this.$scope=n,this.$element=t,this.$translate=o}i.$inject=[\"announcementService\",\"$scope\",\"$element\",\"$translate\"];t.PrmTopbarAfterConfig={name:\"prmTopbarAfter\",config:{controller:i,require:{primoExploreCtrl:\"^primoExplore\"}}}},{}],3:[function(e,n,t){\"use strict\";var o=e(\"./announcement/announcement.service\"),i=e(\"./announcement/prmTopbarAfter.component\");angular.module(\"viewCustom\").service(\"announcementService\",o.AnnouncementService).component(i.PrmTopbarAfterConfig.name,i.PrmTopbarAfterConfig.config)},{\"./announcement/announcement.service\":1,\"./announcement/prmTopbarAfter.component\":2}]},{},[3]);"],"sourceRoot":"/source/"}